:root{
	--bg:#eaf6ff;
	--snow:#fff;
	--accent:#2b7cff;
	--anim-dur:10s;
}
*{box-sizing:border-box;font-family:system-ui,Segoe UI,Roboto,Arial}
body{margin:0;
	height:100vh;
	overflow:hidden;

	background-image: url("https://private-user-images.githubusercontent.com/240648869/546933681-f5e6222f-0d61-4a53-a504-85995423a7c9.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NzA2MTkyNjMsIm5iZiI6MTc3MDYxODk2MywicGF0aCI6Ii8yNDA2NDg4NjkvNTQ2OTMzNjgxLWY1ZTYyMjJmLTBkNjEtNGE1My1hNTA0LTg1OTk1NDIzYTdjOS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjYwMjA5JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI2MDIwOVQwNjM2MDNaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03ZWQ3OTNkMzA1MjQ0MjQ2YjllMzczM2QwNDMzZWI5MWIyYjY4MTI4ZmU2NmQxNDU0NWVmYjU0ODVmNDYzZWZmJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.uaxWjD8MzNXeetzp2g04th3sS41tpr0xhzwuuiJzgqc"); /*  ใส่รูปตรงนี้ */
	background-size: cover;          /* เต็มจอ */
	background-position: center;
	background-repeat: no-repeat;}
#topbar{position:fixed;top:10px;left:10px;right:10px;display:flex;justify-content:flex-end;align-items:center;z-index:50}

#directAccess{
	display:flex;
	gap:10px;
	align-items:center;
	background:rgba(255,255,255,0.95);
	padding:12px 16px;
	border-radius:12px;
	box-shadow:0 4px 16px rgba(43,124,255,0.15), 0 2px 8px rgba(0,0,0,0.08);
	border:1px solid rgba(43,124,255,0.2);
	backdrop-filter:blur(8px);
}

#codeInput{
	padding:10px 14px;
	border:2px solid #e6f1ff;
	border-radius:8px;
	font-size:16px;
	width:160px;
	transition:all 0.3s ease;
	background:#fff;
	color:#333;
}

#codeInput:focus{
	outline:none;
	border-color:#2b7cff;
	box-shadow:0 0 0 3px rgba(43,124,255,0.1), inset 0 2px 4px rgba(43,124,255,0.05);
	background:#f8fbff;
}

#codeInput::placeholder{
	color:#999;
}

#openByCode{
	padding:10px 20px;
	background:linear-gradient(135deg, var(--accent) 0%, #1a5ed9 100%);
	color:#fff;
	border:none;
	border-radius:8px;
	font-size:15px;
	font-weight:600;
	cursor:pointer;
	transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	box-shadow:0 4px 12px rgba(43,124,255,0.25);
	white-space:nowrap;
}

#openByCode:hover{
	transform:translateY(-2px);
	box-shadow:0 6px 20px rgba(43,124,255,0.35);
	background:linear-gradient(135deg, #1a5ed9 0%, #0f4fb0 100%);
}

#openByCode:active{
	transform:translateY(0);
	box-shadow:0 2px 8px rgba(43,124,255,0.25);
}

/* ซ่อนแถบ Public Notes (ตามคำขอ: นำแถบข้อความโน๊ตpublicด้านบนออก) */
#sidebar, #sidebar h3, #publicList { display: none !important; }

/* sidebar displays My Notes now */
#sidebar{width:240px;background:rgba(255,255,255,0.9);padding:12px;border-left:1px solid #e0f0ff;overflow:auto}

/* floating add button */
#addBtn{
	position:fixed;
	left:18px;
	bottom:18px;
	width:80px;
	height:80px;
	border-radius:50%;
	background:var(--accent);
	color:#fff;
	border:none;
	box-shadow:0 8px 24px rgba(43,124,255,0.35), 0 2px 8px rgba(43,124,255,0.2);
	display:flex;
	align-items:center;
	justify-content:center;
	cursor:pointer;
	z-index:120;
	transition:all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	font-size:28px;
}

#addBtn:hover{
	transform:scale(1.15) translateY(-4px);
	background:#1a5ed9;
	box-shadow:0 12px 32px rgba(43,124,255,0.45), 0 4px 12px rgba(43,124,255,0.3);
}

#addBtn:active{
	transform:scale(1.08);
}

/* create modal */
#createModal, #modal{
	position:fixed;inset:0;background:rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center;z-index:200;
}
#createModal.hidden, #modal.hidden{display:none}
#createModal .modalBox{
	background:#fff;
	padding:32px;
	border-radius:16px;
	width:420px;
	max-width:95%;
	display:flex;
	flex-direction:column;
	gap:16px;
	box-shadow:0 10px 40px rgba(0,0,0,0.15), 0 0 1px rgba(0,0,0,0.1);
	border:1px solid rgba(255,255,255,0.5);
	animation:slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

#createModal .modalBox h2{
	margin:0 0 8px 0;
	font-size:24px;
	color:#1a1a1a;
	font-weight:600;
	letter-spacing:-0.5px;
}

#createModal label{
	display:flex;
	flex-direction:column;
	gap:6px;
	font-size:14px;
	color:#555;
	font-weight:500;
}

#createModal input[type="text"], #createModal textarea, #createModal input[type="file"]{
	width:100%;
	padding:11px 14px;
	border-radius:8px;
	border:1.5px solid #e8e8e8;
	background:#fafbfc;
	font-size:15px;
	font-family:inherit;
	color:#333;
	transition:all 0.2s ease;
}

#createModal input[type="text"]:focus, 
#createModal textarea:focus, 
#createModal input[type="file"]:focus{
	outline:none;
	background:#fff;
	border-color:#2b7cff;
	box-shadow:0 0 0 3px rgba(43,124,255,0.08);
}

#createModal textarea{
	resize:vertical;
	min-height:100px;
	line-height:1.5;
}

.modalActions{
	display:flex;
	gap:12px;
	justify-content:flex-end;
	margin-top:8px;
}

.modalActions button{
	padding:10px 20px;
	border:none;
	border-radius:8px;
	font-size:15px;
	font-weight:600;
	cursor:pointer;
	transition:all 0.2s ease;
}

#createSave{
	background:linear-gradient(135deg, var(--accent) 0%, #1a5ed9 100%);
	color:#fff;
	box-shadow:0 4px 12px rgba(43,124,255,0.25);
	min-width:100px;
}

#createSave:hover{
	transform:translateY(-1px);
	box-shadow:0 6px 16px rgba(43,124,255,0.35);
}

#createSave:active{
	transform:translateY(0);
}

#createCancel{
	background:#f0f0f0;
	color:#666;
	box-shadow:0 2px 4px rgba(0,0,0,0.05);
}

#createCancel:hover{
	background:#e8e8e8;
	transform:translateY(-1px);
}

/* visibility radio group */
.visibilityGroup{
	display:flex;
	gap:12px;
	align-items:flex-start;
	padding:12px;
	background:#f8fbff;
	border-radius:8px;
	border:1px solid #e6f1ff;
}

.visibilityGroup label{
	display:flex;
	align-items:center;
	gap:8px;
	margin:0;
	cursor:pointer;
	font-weight:500;
	color:#333;
	flex:1;
}

.visibilityGroup input[type="radio"]{
	margin:0;
	cursor:pointer;
	width:18px;
	height:18px;
	accent-color:var(--accent);
}

/* image preview styling */
#imagePreview{
	margin-top:8px;
	padding:8px;
	background:#f5f7ff;
	border-radius:8px;
	border:1px solid #e6f1ff;
}

#imagePreview img{
	max-width:100%;
	border-radius:6px;
	display:block;
}

/* code modal */
#codeModal{
	position:fixed;
	inset:0;
	background:rgba(0,0,0,0.4);
	display:flex;
	align-items:center;
	justify-content:center;
	z-index:220;
}

#codeModal.hidden{display:none}

#codeModal .modalBox{
	background:#fff;
	padding:32px;
	border-radius:16px;
	width:360px;
	max-width:95%;
	box-shadow:0 10px 40px rgba(0,0,0,0.15);
	border:1px solid rgba(255,255,255,0.5);
	animation:slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

#codeModal h3{
	margin:0 0 12px 0;
	font-size:20px;
	color:#1a1a1a;
	font-weight:600;
}

#codeModal p{
	margin:0 0 16px 0;
	font-size:14px;
	color:#666;
	line-height:1.6;
}

#generatedCode{
	background:linear-gradient(135deg, #f5f7ff 0%, #eef2ff 100%);
	padding:16px;
	border-radius:8px;
	font-weight:700;
	letter-spacing:3px;
	text-align:center;
	font-size:18px;
	color:#2b7cff;
	border:2px dashed #2b7cff;
	font-family:'Courier New', monospace;
	word-break:break-all;
	margin:12px 0;
}

@keyframes slideUp{
	from{
		opacity:0;
		transform:translateY(20px);
	}
	to{
		opacity:1;
		transform:translateY(0);
	}
}

/* snowflake style - each note becomes .flake */
.flake{position:absolute;color:var(--snow);font-size:18px;pointer-events:auto;cursor:pointer;text-shadow:0 1px 3px rgba(0,0,0,0.2)}
.flake img{width:30px;height:30px;display:block}

/* ให้ animation ใช้ตัวแปร --anim-dur ที่ JS จะตั้งค่า (ช่วยให้เพิ่ม 0.2s ได้จากฝั่ง JS) */
.flake { animation: fall var(--anim-dur) linear 0s infinite !important; }

/* falling animation */
@keyframes fall {
	from{transform:translateY(-120vh) rotate(0deg);opacity:0}
	10%{opacity:1}
	to{transform:translateY(120vh) rotate(360deg);opacity:0.9}
}

/* modal */
#modal{position:fixed;inset:0;background:rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center;z-index:200}
#modal.hidden{display:none}
#modalContent{background:#fff;padding:16px;border-radius:8px;width:420px;max-width:95%;position:relative}
#modalContent button#closeModal{position:absolute;right:12px;top:12px;background:#999}
#replies{margin:10px 0;padding:8px;background:#f5f9ff;border-radius:6px;max-height:200px;overflow:auto}
.reply{padding:6px;border-bottom:1px solid #eef}

/* music toggle button (keep existing style if present) */
/* ensure it sits above other UI */
#musicToggle{
	position:fixed;
	top:12px;
	left:12px;
	width:44px;
	height:44px;
	border-radius:50%;
	background:rgba(255,255,255,0.95);
	border:1.5px solid rgba(43,124,255,0.2);
	color:#2b7cff;
	cursor:pointer;
	display:flex;
	align-items:center;
	justify-content:center;
	z-index:1200;
	transition:all 0.25s ease;
	box-shadow:0 4px 12px rgba(43,124,255,0.12);
	backdrop-filter:blur(6px);
}
#musicToggle.playing{ background:linear-gradient(135deg,var(--accent),#1a5ed9); color:#fff; }

/* toast container & toast */
#toastContainer{
	position:fixed;
	right:18px;
	bottom:18px;
	display:flex;
	flex-direction:column;
	gap:10px;
	z-index:1300;
	max-width:340px;
	pointer-events:none;
}
.toast{
	pointer-events:auto;
	background:linear-gradient(180deg,#fff,#f7fbff);
	border-radius:12px;
	padding:10px 12px;
	box-shadow:0 10px 30px rgba(8,40,80,0.12);
	border:1px solid rgba(43,124,255,0.08);
	display:flex;
	align-items:center;
	gap:10px;
	opacity:0;
	transform:translateY(10px) scale(.98);
	transition:all .28s ease;
}
.toast.show{ opacity:1; transform:translateY(0) scale(1); }
.toast .toast-body{ font-weight:600; color:#072340; font-size:14px; line-height:1.2; }
.toast .toast-close{ background:transparent; border:none; color:#666; font-size:16px; cursor:pointer; padding:4px 6px; border-radius:6px; }

/* responsive: smaller screens center above bottom */
@media(max-width:480px){
	#toastContainer{ right:12px; left:12px; bottom:14px; align-items:center; }
	.toast{ width:100%; max-width:100%; }
}

#field.admin{
	padding:84px 20px 20px; /* เลื่อนเนื้อหาให้ลงมาพอเหมาะ */
	overflow:auto;
	display:block; /* ensure list layout */
}

#field.admin .adminItem{
	display:flex;
	flex-direction:row;
	align-items:center;
	gap:12px;
	padding:12px;
	margin:10px 0;
	background:rgba(255,255,255,0.96);
	border:1px solid rgba(15,50,100,0.06);
	border-radius:12px;
	box-shadow:0 6px 18px rgba(12,60,120,0.06);
	max-width:960px;
	width:100%;
}

#field.admin .adminItem .noteInfo{
	flex:1;
	min-width:0; /* allow ellipsis */
}

#field.admin .adminItem .noteInfo .title{
	font-weight:700;
	margin-bottom:4px;
	overflow:hidden;
	text-overflow:ellipsis;
	white-space:nowrap;
}

#field.admin .adminItem .noteInfo .preview{
	color:#666;
	font-size:14px;
	line-height:1.3;
	display:-webkit-box;
	-webkit-line-clamp:2;
	-webkit-box-orient:vertical;
	overflow:hidden;
}

#field.admin .adminItem .noteInfo .meta{
	color:#999;
	font-size:12px;
	margin-top:6px;
}

.deleteAdminBtn{
	background:#ff6b6b;
	color:#fff;
	border:none;
	padding:8px 12px;
	border-radius:8px;
	cursor:pointer;
	flex-shrink:0;
}

.deleteAdminBtn:hover{ filter:brightness(0.95); }

@media(max-width:700px){
	#sidebar{display:none}
	#field.admin{padding-top:100px;}
	#field.admin .adminItem{flex-direction:column;align-items:flex-start;}
	.deleteAdminBtn{width:100%;}
}
